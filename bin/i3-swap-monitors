#!/bin/bash

DISPLAY_CONFIG=($(i3-msg -t get_outputs | jq -r '.[]|"\(.name):\(.current_workspace)"'))
MA=$(i3-msg -t get_workspaces | jq -r '.[]|select(.focused)|.name')
M1=$(python3 -c "print('${DISPLAY_CONFIG[1]}'.split(':', 1)[1])")
M2=$(python3 -c "print('${DISPLAY_CONFIG[2]}'.split(':', 1)[1])")
i3-msg -- workspace --no-auto-back-and-forth $M1 > /dev/null
i3-msg -- move workspace to output right > /dev/null
i3-msg -- workspace --no-auto-back-and-forth $M2 > /dev/null
i3-msg -- move workspace to output right > /dev/null
sleep 0.1
if [ "$MA" == "$M1" ]
then
    i3-msg -- workspace --no-auto-back-and-forth "$M2" > /dev/null
else
    i3-msg -- workspace --no-auto-back-and-forth "$M1" > /dev/null
fi
